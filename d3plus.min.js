!function e(t,o,n){function i(r,l){if(!o[r]){if(!t[r]){var s="function"==typeof require&&require;if(!l&&s)return s(r,!0);if(a)return a(r,!0);var c=new Error("Cannot find module '"+r+"'");throw c.code="MODULE_NOT_FOUND",c}var f=o[r]={exports:{}};t[r][0].call(f.exports,function(e){var o=t[r][1][e];return i(o||e)},f,f.exports,e,t,o,n)}return o[r].exports}for(var a="function"==typeof require&&require,r=0;r<n.length;r++)i(n[r]);return i}({1:[function(e,t,o){t.exports=function(e,t){var o;return e instanceof Array&&(o=void 0===t||null===t?t:t.constructor,e.indexOf(t)>=0||e.indexOf(o)>=0)}},{}],2:[function(e,t,o){t.exports=function(e,t){return void 0===t?e:!1===t?[]:t instanceof Array?t:(e instanceof Array||(e=[]),e.indexOf(t)>=0?e.splice(e.indexOf(t),1):e.push(t),e)}},{}],3:[function(e,t,o){var n;n=function(e){var t,o,i,a;if(a=n.tested,e in a)return a[e];for(o=0,i=!1;o<document.styleSheets.length;){if(t=document.styleSheets[o],t.href&&t.href.indexOf(e)>=0){i=!0;break}o++}return i},n.tested={},t.exports=n},{}],4:[function(e,t,o){t.exports=/(MSIE|Trident\/|Edge\/)/i.test(navigator.userAgent)},{}],5:[function(e,t,o){var n,i;n=e("./ie.js"),i=e("./touch.coffee"),t.exports=i?{click:"touchend",down:"touchstart",up:"touchend",over:n?"mouseenter":"mouseover",out:n?"mouseleave":"mouseout",move:"mousemove"}:{click:"click",down:"mousedown",up:"mouseup",over:n?"mouseenter":"mouseover",out:n?"mouseleave":"mouseout",move:"mousemove"}},{"./ie.js":4,"./touch.coffee":10}],6:[function(e,t,o){var n;n=function(){var e;return e="-webkit-transform"in document.body.style?"-webkit-":"-moz-transform"in document.body.style?"-moz-":"-ms-transform"in document.body.style?"-ms-":"-o-transform"in document.body.style?"-o-":"",n=function(){return e},e},t.exports=n},{}],7:[function(e,t,o){t.exports="rtl"===d3.select("html").attr("dir")},{}],8:[function(e,t,o){t.exports={y:function(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},x:function(){return void 0!==window.pageXOffset?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft}}},{}],9:[function(e,t,o){var n;n=function(){var e,t,o,i,a;return e=document.createElement("p"),e.style.width="100%",e.style.height="200px",t=document.createElement("div"),t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t),i=e.offsetWidth,t.style.overflow="scroll",a=e.offsetWidth,i===a&&(a=t.clientWidth),document.body.removeChild(t),o=i-a,n=function(){return o},o},t.exports=n},{}],10:[function(e,t,o){t.exports=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)},{}],11:[function(e,t,o){t.exports=function(e){var t;return t=d3.hsl(e),t.l>.45&&(t.s>.8&&(t.s=.8),t.l=.45),t.toString()}},{}],12:[function(e,t,o){t.exports=function(e,t){var o;return void 0===t&&(t=.5),o=d3.hsl(e),t=(1-o.l)*t,o.l+=t,o.s-=t,o.toString()}},{}],13:[function(e,t,o){t.exports=function(e,t,o,n){var i,a,r;return o||(o=1),n||(n=1),e=d3.rgb(e),t=d3.rgb(t),r=(o*e.r+n*t.r-o*n*t.r)/(o+n-o*n),a=(o*e.g+n*t.g-o*n*t.g)/(o+n-o*n),i=(o*e.b+n*t.b-o*n*t.b)/(o+n-o*n),d3.rgb(r,a,i).toString()}},{}],14:[function(e,t,o){var n;n=e("./scale.coffee"),t.exports=function(e,t){var o;return o=e||Math.floor(20*Math.random()),(t=t||n)(o)}},{"./scale.coffee":15}],15:[function(e,t,o){t.exports=d3.scaleOrdinal().range(["#b22200","#282F6B","#EACE3F","#B35C1E","#224F20","#5F487C","#759143","#419391","#993F88","#e89c89","#ffee8d","#afd5e8","#f7ba77","#a5c697","#c5b5e5","#d1d392","#bbefd0","#e099cf"])},{}],16:[function(e,t,o){t.exports=function(e,t){var o,n;return o=d3.hsl(e),n=d3.hsl(t),e=0===o.s?361:o.h,t=0===n.s?361:n.h,e===t?o.l-n.l:e-t}},{}],17:[function(e,t,o){t.exports=function(e){var t,o,n,i,a;return i=d3.rgb(e),n=i.r,o=i.g,t=i.b,a=(299*n+587*o+114*t)/1e3,a>=128?"#444444":"#f7f7f7"}},{}],18:[function(e,t,o){t.exports=function(e){var t,o,n;return e+="",e=e.replace(RegExp(" ","g"),""),0===e.indexOf("rgb")&&(e=e.split("(")[1].split(")")[0].split(",").slice(0,3).join(",")),0===e.indexOf("hsl")&&(e=e.split(",")[2].split(")")[0]),o=d3.rgb(e).toString(),t=["black","#000","#000000","0%","0,0,0"],n=t.indexOf(e)>=0,"#000000"!==o||n}},{}],19:[function(e,t,o){var n,i,a;n=e("../../client/ie.js"),a=e("./wiki.coffee"),i=function(e,t,o){o=o||"",n||"undefined"!=typeof InstallTrigger?console.log("[ D3plus ] "+t):0===e.indexOf("group")?console[e]("%c[ D3plus ]%c "+t,"font-weight: 800;color: #b35c1e;margin-left: 0px;","font-weight:200;"+o):console[e]("%c"+t,o+"font-weight:200;")},i.comment=function(e){this("log",e,"color:#aaa;")},i.error=function(e,t){this("groupCollapsed","ERROR: "+e,"font-weight:800;color:#D74B03;"),this.stack(),this.wiki(t),this.groupEnd()},i.group=function(e){this("group",e,"color:#888;")},i.groupCollapsed=function(e){this("groupCollapsed",e,"color:#888;")},i.groupEnd=function(){n||console.groupEnd()},i.log=function(e){this("log",e,"color:#444444;")},i.stack=function(){var e,t,o,i,a,r,l;n||(e=new Error,e.stack&&(r=e.stack.split("\n"),r=r.filter(function(e){return 0!==e.indexOf("Error")&&e.indexOf("d3plus.js:")<0&&e.indexOf("d3plus.min.js:")<0}),r.length&&r[0].length&&(a=window.chrome?"at ":"@",l=r[0],l.indexOf(a)>=0&&(l=l.split(a)[1]),r=l.split(":"),3===r.length&&r.pop(),t=r.pop(),i=r.join(":").split("/"),i=i[i.length-1],o="line "+t+" of "+i+": "+l,this("log",o,"color:#D74B03;"))))},i.time=function(e){n||console.time(e)},i.timeEnd=function(e){n||console.timeEnd(e)},i.warning=function(e,t){this("groupCollapsed",e,"color:#888;"),this.stack(),this.wiki(t),this.groupEnd()},i.wiki=function(e){e&&(e in a&&(e=d3plus.repo+"wiki/"+a[e]),this("log","documentation: "+e,"color:#aaa;"))},t.exports=i},{"../../client/ie.js":4,"./wiki.coffee":20}],20:[function(e,t,o){t.exports={active:"Visualizations#active",aggs:"Visualizations#aggs",alt:"Forms#alt",attrs:"Visualizations#attrs",axes:"Visualizations#axes",background:"Visualizations#background",color:"Visualizations#color",cols:"Visualizations#cols",config:"Visualizations#config",container:"Visualizations#container",coords:"Visualizations#coords",csv:"Visualizations#csv",data:"Visualizations#data",depth:"Visualizations#depth",descs:"Visualizations#descs",dev:"Visualizations#dev",draw:"Visualizations#draw",edges:"Visualizations#edges",error:"Visualizations#error",focus:"Visualizations#focus",font:"Visualizations#font",footer:"Visualizations#footer",format:"Visualizations#format",height:"Visualizations#height",history:"Visualizations#history",hover:"Forms#hover",icon:"Visualizations#icon",id:"Visualizations#id",keywords:"Forms#keywords",labels:"Visualizations#labels",legend:"Visualizations#legend",links:"Visualizations#links",margin:"Visualizations#margin",messages:"Visualizations#messages",method:"Methods",mouse:"Visualizations#mouse",nodes:"Visualizations#nodes",open:"Forms#open",order:"Visualizations#order",remove:"Forms#remove",search:"Forms#search",select:"Forms#select",selectAll:"Forms#selectAll",shape:"Visualizations#shape",size:"Visualizations#size",temp:"Visualizations#temp",text:"Visualizations#text",time:"Visualizations#time",timeline:"Visualizations#timeline",timing:"Visualizations#timing",title:"Visualizations#title",tooltip:"Visualizations#tooltip",total:"Visualizations#total",type:"Visualizations#type",ui:"Visualizations#ui",width:"Visualizations#width",x:"Visualizations#x",y:"Visualizations#y",zoom:"Visualizations#zoom"}},{}],21:[function(e,t,o){t.exports=function(e){var t,o,n;return["div","svg"].indexOf(e)<0&&(e="div"),o={position:"absolute",left:"-9999px",top:"-9999px",visibility:"hidden",display:"block"},t="div"===e?{}:{position:"absolute"},n=d3.select("body").selectAll(e+".d3plus_tester").data([0]),n.enter().append(e).attr("class","d3plus_tester").style(o).attr(t),n}},{}],22:[function(e,t,o){t.exports={dev:{accepted:"{0} is not an accepted value for {1}, please use one of the following: {2}.",deprecated:"the {0} method has been removed, please update your code to use {1}.",noChange:"{0} was not updated because it did not change.",noContainer:"cannot find a container on the page matching {0}.",of:"of",oldStyle:"style properties for {0} have now been embedded directly into .{1}().",sameEdge:"edges cannot link to themselves. automatically removing self-referencing edge {0}.",set:"{0} has been set.",setLong:"{0} has been set to {1}.",setContainer:"please define a container div using .container()"},error:{accepted:"{0} is not an accepted {1} for {2} visualizations, please use one of the following: {3}.",connections:"no connections available for {0}.",data:"no data available",dataYear:"no data available for {0}.",lib:"{0} visualizations require loading the {1} library.",libs:"{0} visualizations require loading the following libraries: {1}.",method:"{0} visualizations require setting the {1} method.",methods:"{0} visualizations require setting the following methods: {1}."},format:{decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%A, %B %-d, %Y %X",date:"%-m/%-d/%Y",time:"%I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},lowercase:["a","an","and","as","at","but","by","for","from","if","in","into","near","nor","of","on","onto","or","per","that","the","to","with","via","vs","vs."],message:{data:"analyzing data",draw:"drawing visualization",initializing:"initializing {0}",loading:"loading data",tooltipReset:"resetting tooltips",ui:"updating ui"},method:{active:"active segments",color:"color",depth:"depth",dev:"verbose",focus:"focus",icon:"icon",id:"id",height:"height",labels:"labels",legend:"legend",margin:"margin",messages:"status messages",mode:"mode",mute:"hide",order:"order",search:"search",shape:"shape",size:"size",solo:"isolate",style:"style",temp:"temporary segments",text:"text",time:"time",timeline:"timeline",total:"total segments",type:"type",width:"width",x:"x axis",y:"y axis",zoom:"zoom"},time:["date","day","month","time","year"],timeFormat:{FullYear:"%Y",Month:"%B",MonthSmall:"%b",Date:"%A %-d",DateSmall:"%-d",Hours:"%I %p",Minutes:"%I:%M",Seconds:"%Ss",Milliseconds:"%Lms","FullYear-Month":"%b %Y","FullYear-Date":"%-m/%-d/%Y","Month-Date":"%b %-d","Hours-Minutes":"%I:%M %p","Hours-Seconds":"%I:%M:%S %p","Hours-Milliseconds":"%H:%M:%S.%L","Minutes-Seconds":"%I:%M:%S %p","Minutes-Milliseconds":"%H:%M:%S.%L","Seconds-Milliseconds":"%H:%M:%S.%L"},ui:{and:"and",back:"back",collapse:"click to collapse",error:"error",expand:"click to expand",including:"including",iqr:"interquartile range for {0}",loading:"loading...",max:"maximum",median:"median",min:"minimum",more:"{0} more",moreInfo:"click for more info",or:"or",noResults:"no results matching {0}.",percentile:"{0} percentile",primary:"primary connections",quartile_first:"first quartile",quartile_third:"third quartile",share:"share",total:"total",tukey_bottom:"bottom tukey",tukey_top:"top tukey",values:"values"},uppercase:["CEO","CEOs","CFO","CFOs","CNC","COO","COOs","CPU","CPUs","ER","GDP","HVAC","ID","IT","PCP","R&D","TV","UI"],visualization:{bar:"Bar Chart",box:"Box Plot",bubbles:"Bubbles",chart:"Chart",geo_map:"Geo Map",line:"Line Plot",network:"Network",paths:"Paths",pie:"Pie Chart",rings:"Rings",scatter:"Scatter Plot",stacked:"Stacked Area",table:"Table",tree_map:"Tree Map"}}},{}],23:[function(e,t,o){t.exports={en_US:e("./languages/en_US.coffee")}},{"./languages/en_US.coffee":22}],24:[function(e,t,o){var n,i,a,r,l,s,c,f,u;i=e("../../util/copy.coffee"),l=e("../console/print.coffee"),s=e("./process/detect.coffee"),c=e("./set.coffee"),f=e("../../string/format.js"),u=e("../../object/validate.coffee"),t.exports=function(e,t){var o,n,l;l=[];for(o in t)n=t[o],e[o]=i(n),e[o].initialized=r(e,e[o],o),l.push(e.self[o]=a(e,o));return l},r=function(e,t,o,n){var i,a,c,d,p;t.previous=!1,t.changed=!1,t.initialized=!1,t.callback=!1,"init"in t&&!("value"in t)&&(t.value=t.init(e),delete t.init),"process"in t&&(t.value=s(e,t,t.value));for(p in t)if("deprecates"===p)for(a=t[p]instanceof Array?t[p]:[t[p]],c=0,d=a.length;c<d;c++)i=a[c],e.self[i]=function(t,o){return function(i){var a,r,s;return s=e.format.locale.value.dev.deprecated,t="."+t+"()",r=n?'"'+o+'" in .'+n+"()":"."+o+"()",a=n||o,l.error(f(s,t,r),a),e.self}}(i,o);else"global"===p?o in e||(e[o]=[]):"value"!==p&&u(t[p])&&r(e,t[p],p,o);return!0},a=function(e,t){return function(o,i){var a,r,s,c,d,p,h,g;if(a="accepted"in e[t]?e[t].accepted:null,"function"==typeof a&&(a=a(e)),a instanceof Array||(a=[a]),o===Object)return e[t];if(!arguments.length&&a.indexOf(void 0)<0)return"value"in e[t]?e[t].value:e[t];if("style"===t&&"object"==typeof o){g=e.format.locale.value.dev.oldStyle;for(p in o)l.warning(f(g,'"'+p+'"',p),p),e.self[p](o[p])}if("font"===t){"string"==typeof o&&(o={family:o}),h=!0,s=function(e,t,o,n){u(e[o])&&t in e[o]&&(u(e[o][t])?e[o][t].process?e[o][t].value=e[o][t].process(n):e[o][t].value=n:e[o][t]=n)},r=function(e,t,o){var n;if(u(e)){if(h)for(n in e)s(e,t,n,o);else"font"in e&&s(e,t,"font",o);h=!1;for(n in e)r(e[n],t,o)}};for(c in o)d=o[c],"secondary"!==c&&(u(d)&&(d=d.value),d&&r(e,c,d))}return n(e,t,e,t,o),"function"==typeof i&&(e[t].callback=i),!1===e[t].chainable?e[t].value:e.self}},n=function(e,t,o,i,a){var r,l,s,f;if(["accepted","changed","initialized","previous","process"].indexOf(i)<0)if(f=u(a),s=u(o[i])&&"objectAccess"in o[i]&&!1===o[i].objectAccess,r=f&&(s||!("value"in a)&&(!u(o[i])||!(d3.keys(a)[0]in o[i]))),null===a||!f||r)c(e,t,o,i,a);else if(f)for(l in a)n(e,t,o[i],l,a[l])}},{"../../object/validate.coffee":33,"../../string/format.js":34,"../../util/copy.coffee":65,"../console/print.coffee":19,"./process/detect.coffee":25,"./set.coffee":27}],25:[function(e,t,o){var n,i;n=e("../../../util/copy.coffee"),i=e("../../../array/update.coffee"),t.exports=function(e,t,o){return t.process===Array?i(n(t.value),o):"object"==typeof t.process&&"string"==typeof o?t.process[o]:"function"==typeof t.process?t.process(o,e,t):o}},{"../../../array/update.coffee":2,"../../../util/copy.coffee":65}],26:[function(e,t,o){var n,i,a,r;n=e("../../array/contains.coffee"),i=e("../../string/format.js"),a=e("../../string/list.coffee"),r=e("../console/print.coffee"),t.exports=function(e,t,o,l,s){var c,f,u,d,p,h,g,v;if("function"==typeof t&&(t=t(e)),t instanceof Array||(t=[t]),!1===(f=n(t,o))&&void 0!==o){for(h=[],v=JSON.stringify(o),"string"!=typeof o&&(v='"'+v+'"'),d=0,p=t.length;d<p;d++)c=t[d],"string"==typeof c?h.push('"'+c+'"'):"function"==typeof c?h.push(c.toString().split("()")[0].substring(9)):void 0===c?h.push("undefined"):h.push(JSON.stringify(c));h=a(h,e.format.locale.value.ui.or),e.type&&["mode","shape"].indexOf(l)>=0?(g=e.format.locale.value.error.accepted,u=e.format.locale.value.visualization[e.type.value]||e.type.value,r.warning(i(g,v,l,u,h),l)):(g=e.format.locale.value.dev.accepted,r.warning(i(g,v,s,h),l))}return!f}},{"../../array/contains.coffee":1,"../../string/format.js":34,"../../string/list.coffee":35,"../console/print.coffee":19}],27:[function(e,t,o){var n,i,a,r,l,s,c,f,u;n=e("../../util/copy.coffee"),i=e("../../util/d3selection.coffee"),u=e("../../object/validate.coffee"),a=e("../../object/merge.coffee"),r=e("../console/print.coffee"),l=e("./process/detect.coffee"),s=e("./rejected.coffee"),c=e("../../string/format.js"),f=e("../../array/update.coffee"),t.exports=function(e,t,o,d,p){var h,g,v,y,m,x,b,w,F,z,A,_,k,C;if(_="value"!==d&&d&&d!==t?'"'+d+'" '+e.format.locale.value.dev.of+" ."+t+"()":"."+t+"()",h="value"===d&&"accepted"in o?o.accepted:u(o[d])&&"accepted"in o[d]?o[d].accepted:[p],!s(e,h,p,t,_)){if(u(o[d])&&"value"in o[d]&&(z=d,o=o[d],d="value"),"value"===d&&"process"in o&&(p=l(e,o,p)),o[d]instanceof Array||o[d]!==p||void 0===p){if(o.changed=!0,o.loaded&&(o.loaded=!1),"history"in e&&"draw"!==t&&(g=n(o),g.method=t,e.history.chain.push(g)),o.previous=o[d],"id"in e&&"value"===d&&"nesting"in o)if("id"!==t){if("object"!=typeof o.nesting&&(o.nesting={}),u(p)){for(x in p)"string"==typeof p[x]&&(p[x]=[p[x]]);o.nesting=a(o.nesting,p),e.id.value in o.nesting||(o.nesting[e.id.value]=p[d3.keys(p)[0]])}else p instanceof Array?o.nesting[e.id.value]=p:o.nesting[e.id.value]=[p];o[d]=o.nesting[e.id.value][0]}else p instanceof Array?(o.nesting=p,"depth"in e&&e.depth.value<p.length?o[d]=p[e.depth.value]:(o[d]=p[0],"depth"in e&&(e.depth.value=0))):(o[d]=p,o.nesting=[p],"depth"in e&&(e.depth.value=0));else"depth"===t?(p>=e.id.nesting.length?e.depth.value=e.id.nesting.length-1:e.depth.value=p<0?0:p,e.id.value=e.id.nesting[e.depth.value],"object"==typeof e.text.nesting&&(F=e.text.nesting[e.id.value])&&(e.text.nesting[e.id.value]="string"==typeof F?[F]:F,e.text.value=F instanceof Array?F[0]:F)):u(o[d])&&u(p)?o[d]=a(o[d],p):o[d]=p;"value"===d&&o.global&&(m=o[d].length>0,(b=z||d)in e&&(m&&e.data[b].indexOf(t)<0||!m&&e.data[b].indexOf(t)>=0)&&(e.data[b]=f(e.data[b],t))),"value"===d&&o.dataFilter&&e.data&&e.data.filters.indexOf(t)<0&&e.data.filters.push(t),e.dev.value&&o.changed&&void 0!==o[d]&&(w=o[d]instanceof Array&&o[d].length>10,y=i(o[d]),k="function"==typeof o[d],C=w||y||k?null:"string"==typeof o[d]?o[d]:JSON.stringify(o[d]),null!==C&&C.length<260?(A=e.format.locale.value.dev.setLong,r.log(c(A,_,'"'+C+'"'))):(A=e.format.locale.value.dev.set,r.log(c(A,_))))}else A=e.format.locale.value.dev.noChange,e.dev.value&&r.comment(c(A,_));"value"===d&&o.callback&&!o.url&&(v="function"==typeof o.callback?o.callback:o.callback.value)&&v(p,e.self)}}},{"../../array/update.coffee":2,"../../object/merge.coffee":32,"../../object/validate.coffee":33,"../../string/format.js":34,"../../util/copy.coffee":65,"../../util/d3selection.coffee":66,"../console/print.coffee":19,"./process/detect.coffee":25,"./rejected.coffee":26}],28:[function(e,t,o){var n;n=e("../core/font/tester.coffee"),t.exports=function(e,t,o){var i,a,r,l,s,c,f;return o||(o={}),t=t||{},c=o.parent||n("svg").append("text"),l=[],e instanceof Array||(e=[e]),f=c.selectAll("tspan").data(e),i={left:"0px",position:"absolute",top:"0px",x:0,y:0},s=0,"letter-spacing"in t&&(s=parseFloat(t["letter-spacing"]),delete t["letter-spacing"]),r=function(e){var t;return t=0,s&&(t=(d3.select(e).text().length-1)*s),e.getComputedTextLength()+t},a=function(e){return e.parentNode.getBBox().height||e.getBoundingClientRect().height},f.enter().append("tspan").text(String).style(t).attr(i).each(function(e){if("function"==typeof o.mod)return o.mod(this)}).each(function(e){var t,o,n;return t=d3.select(this).selectAll("tspan"),t.size()?(n=[],t.each(function(){return n.push(r(this))}),n=d3.max(n)):n=r(this),o=a(this),l.push({height:o,text:e,width:n})}),f.remove(),o.parent||c.remove(),l}},{"../core/font/tester.coffee":21}],29:[function(e,t,o){var n,i;n=e("../core/font/tester.coffee"),i=function(e){var t,o,a,r,l,s,c,f,u,d,p,h,g,v;for(e instanceof Array||(e=e.split(",")),l=0,c=e.length;l<c;l++)a=e[l],a.trim();if(r=e.join(", "),t=i.complete,r in t)return t[r];for(p=function(e){return g.append("span").style("font-family",e).style("font-size","32px").style("padding","0px").style("margin","0px").text("abcdefghiABCDEFGHI_!@#$%^&*()_+1234567890")},h=function(e,t){var o,n,i;return o=p(e),n=o.node().offsetWidth,i=t.node().offsetWidth,o.remove(),n!==i},g=n("div"),u=p("monospace"),d=p("sans-serif"),s=0,f=e.length;s<f;s++)if(o=e[s],v=h(o+",monospace",u),v||(v=h(o+",sans-serif",d)),v){v=o;break}return v||(v="sans-serif"),u.remove(),d.remove(),t[r]=v,v},i.complete={},t.exports=i},{"../core/font/tester.coffee":21}],30:[function(e,t,o){var n,i,a;n={},n.version="1.9.9 - Noesys",n.repo="https://github.com/noesys/d3plus/",n.client={css:e("./client/css.coffee"),ie:e("./client/ie.js"),pointer:e("./client/pointer.coffee"),prefix:e("./client/prefix.coffee"),rtl:e("./client/rtl.coffee"),scroll:e("./client/scroll.js"),scrollbar:e("./client/scrollbar.coffee"),touch:e("./client/touch.coffee")},n.color={legible:e("./color/legible.coffee"),lighter:e("./color/lighter.coffee"),mix:e("./color/mix.coffee"),random:e("./color/random.coffee"),scale:e("./color/scale.coffee"),sort:e("./color/sort.coffee"),text:e("./color/text.coffee"),validate:e("./color/validate.coffee")},n.font={sizes:e("./font/sizes.coffee"),validate:e("./font/validate.coffee")},n.number={format:e("./number/format.coffee")},n.object={merge:e("./object/merge.coffee"),validate:e("./object/validate.coffee")},n.string={format:e("./string/format.js"),list:e("./string/list.coffee"),strip:e("./string/strip.js"),title:e("./string/title.coffee")},n.textwrap=e("./textwrap/textwrap.coffee"),n.tooltip={create:e("./tooltip/create.js"),move:e("./tooltip/move.coffee"),remove:e("./tooltip/remove.coffee")},a=e("./client/css.coffee"),i=e("./core/console/print.coffee"),a("d3plus.css")&&i.warning("d3plus.css has been deprecated, you do not need to load this file.",n.repo+"releases/tag/v1.4.0"),"undefined"!=typeof window&&(window.d3plus=n),t.exports=n},{"./client/css.coffee":3,"./client/ie.js":4,"./client/pointer.coffee":5,"./client/prefix.coffee":6,"./client/rtl.coffee":7,"./client/scroll.js":8,"./client/scrollbar.coffee":9,"./client/touch.coffee":10,"./color/legible.coffee":11,"./color/lighter.coffee":12,"./color/mix.coffee":13,"./color/random.coffee":14,"./color/scale.coffee":15,"./color/sort.coffee":16,"./color/text.coffee":17,"./color/validate.coffee":18,"./core/console/print.coffee":19,"./font/sizes.coffee":28,"./font/validate.coffee":29,"./number/format.coffee":31,"./object/merge.coffee":32,"./object/validate.coffee":33,"./string/format.js":34,"./string/list.coffee":35,"./string/strip.js":36,"./string/title.coffee":37,"./textwrap/textwrap.coffee":61,"./tooltip/create.js":62,"./tooltip/move.coffee":63,"./tooltip/remove.coffee":64}],31:[function(e,t,o){var n;n=e("../core/locale/languages/en_US.coffee"),t.exports=function(e,t){var o,i,a,r,l,s,c,f,u,d,p,h;return void 0===e||null===e||!1===e?"":(t||(t={}),s="locale"in t?t.locale:n,d=s.time.slice(),i=d3.locale(s.format),t||(t={}),p=t.vars||{},a=t.key,r=!("labels"in t)||t.labels,l=e.toString().split(".")[0].length,p.time&&p.time.value&&d.push(p.time.value),"string"==typeof a&&d.indexOf(a.toLowerCase())>=0?c=e:"share"===a?(c=0===e?0:e>=100?i.numberFormat(",f")(e):e>99?i.numberFormat(".3g")(e):i.numberFormat(".2g")(e),c+="%"):e<10&&e>-10?(l=e.toString().split("."),f=1,l.length>1&&(f=d3.min([parseFloat(l[1]).toString().length,2]),-1<e&&e<1||(h=l[1].length-parseFloat(l[1]).toString().length,f+=1+h)),c=i.numberFormat("."+f+"g")(e)):l>3?(u=d3.formatPrefix(e).symbol,u=u.replace("G","B"),e=d3.formatPrefix(e).scale(e),e=i.numberFormat(".3g")(e),e=e.replace(s.format.decimal,"."),e=parseFloat(e)+"",e=e.replace(".",s.format.decimal),c=e+u):c=3===l?i.numberFormat(",f")(e):0===e?0:e===parseInt(e,10)?i.numberFormat(".2")(e):i.numberFormat(".3g")(e),c.length>2&&""+c.indexOf(".0")===c.length-2&&(c=c.slice(0,c.length-2)),r&&a&&"format"in p&&a in p.format.affixes.value?(o=p.format.affixes.value[a],o[0]+c+o[1]):c)}},{"../core/locale/languages/en_US.coffee":22}],32:[function(e,t,o){var n,i;n=e("../util/d3selection.coffee"),i=e("./validate.coffee"),t.exports=function(e,t){var o,a;return o=function(e,t,a){var r,l,s;l=[];for(r in e)s=e[r],void 0!==s?!a&&i(s)?("object"!=typeof t[r]&&(t[r]={}),l.push(o(s,t[r],0===r.indexOf("d3plus")))):!n(s)&&s instanceof Array?l.push(t[r]=s.slice(0)):l.push(t[r]=s):l.push(void 0);return l},a={},e&&o(e,a),t&&o(t,a),a}},{"../util/d3selection.coffee":66,"./validate.coffee":33}],33:[function(e,t,o){t.exports=function(e){return e&&e.constructor===Object}},{}],34:[function(e,t,o){t.exports=function(){var e=Array.prototype.slice.call(arguments),t=e.shift();return t.unkeyed_index=0,t.replace(/\{(\w*)\}/g,function(o,n){if(""===n&&(n=t.unkeyed_index,t.unkeyed_index++),n==+n)return"undefined"!==e[n]?e[n]:o;for(var i=0;i<e.length;i++)if("object"==typeof e[i]&&void 0!==e[i][n])return e[i][n];return o}.bind(t))}},{}],35:[function(e,t,o){var n,i;n=e("./format.js"),i=e("../core/locale/languages/en_US.coffee").ui,t.exports=function(e,t,o,a){var r;return e instanceof Array?(e=e.slice(0),t||(t=i.and),a||(a=i.moreText),2===e.length?e.join(" "+t+" "):(o&&e.length>o&&(r=e.length-o+1,e=e.slice(0,o-1),e[o-1]=n(a,r)),e.length>1&&(e[e.length-1]=t+" "+e[e.length-1]),e.join(", "))):e}},{"../core/locale/languages/en_US.coffee":22,"./format.js":34}],36:[function(e,t,o){t.exports=function(e){var t=[[/[\300-\305]/g,"A"],[/[\340-\345]/g,"a"],[/[\306]/g,"AE"],[/[\346]/g,"ae"],[/[\337]/g,"B"],[/[\307]/g,"C"],[/[\347]/g,"c"],[/[\320\336\376]/g,"D"],[/[\360]/g,"d"],[/[\310-\313]/g,"E"],[/[\350-\353]/g,"e"],[/[\314-\317]/g,"I"],[/[\354-\357]/g,"i"],[/[\321]/g,"N"],[/[\361]/g,"n"],[/[\322-\326\330]/g,"O"],[/[\362-\366\370]/g,"o"],[/[\331-\334]/g,"U"],[/[\371-\374]/g,"u"],[/[\327]/g,"x"],[/[\335]/g,"Y"],[/[\375\377]/g,"y"]];return""+e.replace(/[^A-Za-z0-9\-_]/g,function(e){if(" "===e)return"-";for(var o=!1,n=0;n<t.length;n++)if(new RegExp(t[n][0]).test(e)){o=t[n][1];break}return o||""})}},{}],37:[function(e,t,o){var n;n=e("../core/locale/languages/en_US.coffee"),t.exports=function(e,t){var o,i,a,r;return e?(t||(t={}),t.key,"."===e.charAt(e.length-1)?e.charAt(0).toUpperCase()+e.substr(1):(a="locale"in this?this.locale.value:n,r=a.lowercase.map(function(e){return e.toLowerCase()}),i=a.uppercase,i=i.concat(i.map(function(e){return e+"s"})),o=i.map(function(e){return e.toLowerCase()}),e.replace(/[^\s!-#%&(-\x2A,-:;\x3F@\x5B-\x5D_\x7B}\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]*/g,function(t,n){var a;return t?(a=o.indexOf(t.toLowerCase()),a>=0?i[a]:r.indexOf(t.toLowerCase())>=0&&0!==n&&n!==e.length-1?t.toLowerCase():t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()):""}))):""}},{"../core/locale/languages/en_US.coffee":22}],38:[function(e,t,o){var n,i;n=e("./foreign.coffee"),i=e("./tspan.coffee"),t.exports=function(e){e.text.html.value?n(e):i(e)}},{"./foreign.coffee":39,"./tspan.coffee":42}],39:[function(e,t,o){t.exports=function(e){var t,o,n,i,a;a=e.container.value,n=a.attr("font-family")||a.style("font-family"),t=e.align.value||a.attr("text-anchor")||a.style("text-anchor"),o=a.attr("fill")||a.style("fill"),i=a.attr("opacity")||a.style("opacity"),t="end"===t?"right":"middle"===t?"center":"left",d3.select(a.node().parentNode).append("foreignObject").attr("width",e.width.value+"px").attr("height",e.height.value+"px").attr("x","0px").attr("y","0px").append("xhtml:div").style("font-family",n).style("font-size",e.size.value[1]+"px").style("color",o).style("text-align",t).style("opacity",i).text(e.text.current)}},{}],40:[function(e,t,o){t.exports=function(e){var t,o,n,i,a,r,l,s,c,f;if(o=e.container.value,i=o.node().previousElementSibling,r=i?i.tagName.toLowerCase():"",i&&(i=d3.select(i)),e.container.x=e.x.value||parseFloat(o.attr("x"),10),e.container.y=e.y.value||parseFloat(o.attr("y"),10),i&&(e.shape.accepted.indexOf(r)>=0&&e.self.shape(r),"rect"===r?(c=parseFloat(i.attr("x"),10)||0,f=parseFloat(i.attr("y"),10)||0,!1===e.padding.value&&(t=Math.abs(c-e.container.x))&&e.self.padding(t),e.container.x||(e.container.x=c+e.padding.value),e.container.y||(e.container.y=f+e.padding.value),e.width.value||(s=parseFloat(i.attr("width")),e.self.width(s)),e.height.value||(n=parseFloat(i.attr("height")),e.self.height(n))):"circle"===r?(a=parseFloat(i.attr("r"),10),c=parseFloat(i.attr("cx"),10)||0,c-=a,f=parseFloat(i.attr("cy"),10)||0,f-=a,!1===e.padding.value&&(t=Math.abs(c-e.container.x))&&e.self.padding(t),e.container.x||(e.container.x=c+e.padding.value),e.container.y||(e.container.y=f+e.padding.value),e.width.value||e.self.width(2*a,10),e.height.value||e.self.height(2*a,10)):(e.width.value||e.self.width(500),e.height.value||e.self.height(500))),e.container.x||(e.container.x=0),e.container.y||(e.container.y=0),e.width.inner=e.width.value-2*e.padding.value,e.height.inner=e.height.value-2*e.padding.value,l=o.attr("font-size")||o.style("font-size"),l=parseFloat(l,10),e.container.fontSize=l,e.container.dy=parseFloat(o.attr("dy"),10),!e.size.value)return e.resize.value?e.self.size([4,80]):e.self.size([l/2,l])}},{}],41:[function(e,t,o){t.exports=function(e){var t;if(e.text.value||(t=e.container.value.text())&&(t.indexOf("tspan")>=0&&(t.replace(/\<\/tspan\>\<tspan\>/g," "),t.replace(/\<\/tspan\>/g,""),t.replace(/\<tspan\>/g,"")),t=t.replace(/(\r\n|\n|\r)/gm,""),t=t.replace(/^\s+|\s+$/g,""),e.self.text(t)),e.text.value instanceof Array?e.text.phrases=e.text.value.filter(function(e){return["string","number"].indexOf(typeof e)>=0}):e.text.phrases=[e.text.value+""],!e.align.value)return e.container.align=e.container.value.style("text-anchor")||e.container.value.attr("text-anchor")}},{}],42:[function(e,t,o){var n;n=e("../../client/rtl.coffee"),t.exports=function(e){var t,o,i,a,r,l,s,c,f,u,d,p,h,g,v,y,m,x,b,w,F,z,A,_,k,C,j,E,O,S,D;return d=function(t){var n;return n=!g||t?e.container.value.append("tspan"):e.container.value.insert("tspan","tspan"),n.attr("x",E+"px").attr("dy",o+"px").style("baseline-shift","0%").attr("dominant-baseline","alphabetic")},u=-90===e.rotate.value||90===e.rotate.value,k=u?e.height.inner:e.width.inner,l=u?e.width.inner:e.height.inner,t="circle"===e.shape.value?"middle":e.align.value||e.container.align||"start",O="end"===t||"start"===t&&n?k:"middle"===t?k/2:0,_=e.valign.value||"top",E=e.container.x+O,a=e.resize.value?e.size.value[1]:e.container.fontSize||e.size.value[0],o=e.container.dy||1.1*a,F=null,h=null,C=null,g=!1,D=0,"circle"===e.shape.value&&("middle"===_?D=l/o%1*o/2:"end"===_&&(D=l/o%1*o)),e.container.value.attr("text-anchor",t).attr("font-size",a+"px").style("font-size",a+"px").attr("x",e.container.x).attr("y",e.container.y),A=function(){if(F.remove(),g?(s++,F=e.container.value.select("tspan")):(s--,F=d3.select(e.container.value.node().lastChild)),!F.empty())return C=F.text().match(/[^\s-]+-?/g),i()},c=function(){var t;return"circle"===e.shape.value?(t=(s-1)*o+D,t>l/2&&(t+=o),2*Math.sqrt(t*(k/2*2-t))):k},i=function(){var t,o;return C&&C.length?(o=C.pop(),t=o.charAt(o.length-1),1===o.length&&e.text.split.value.indexOf(o)>=0?i():(e.text.split.value.indexOf(t)>=0&&(o=o.substr(0,o.length-1)),F.text(C.join(" ")+" "+o+"..."),F.node().getComputedTextLength()>c()?i():void 0)):A()},p=function(t){var o,n,i,a;if(o=F.text(),a="",g){if(" "===(a=e.text.current.charAt(e.text.current.length-h.length-1)))for(i="",n=2;" "===a;)i+=" ",a=e.text.current.charAt(e.text.current.length-h.length-n),n++;else i="";h=t+i+h,F.text(t+i+o)}else{if(" "===(a=e.text.current.charAt(h.length)))for(i="",n=1;" "===a;)i+=" ",a=e.text.current.charAt(h.length+n),n++;else i="";h+=i+t,F.text(o+i+t)}
if(Math.floor(F.node().getComputedTextLength())>c()||"\n"===a)return F.text(o),o.length&&(F=d()),F.text(t),g?s--:s++},w=1,s=null,f=null,j=function(){var t,n,i,a,r,c;for(e.container.value.text("").html(""),C=e.text.words.slice(),g&&C.reverse(),h="",F=d(!0),s=w,n=0,i=C.length;n<i;n++){if(c=C[n],s*o>l){A();break}for(p(c),r=!0;r;){for(a=e.text.current.charAt(h.length),t=1;" "===a;)a=e.text.current.charAt(h.length+t),t++;r=e.text.split.value.indexOf(a)>=0,r&&p(a)}}return s*o>l&&A(),f=Math.abs(s-w)+1},j(),f=0,e.container.value.selectAll("tspan").each(function(){if(d3.select(this).text().length)return f++}),"circle"===e.shape.value&&(b=l-f*o)>o&&("middle"===_?(w=1+(b/o/2>>0),j()):"bottom"===_&&(g=!0,w=l/o>>0,j())),f=0,e.container.value.selectAll("tspan").each(function(){if(d3.select(this).text().length)return f++}),"top"===_?S=0:(r=f*o,S="middle"===_?l/2-r/2:l-r),S-=.2*o,z="translate(0,"+S+")",180===e.rotate.value||-180===e.rotate.value?(m=e.container.x+k/2,x=e.container.y+l/2):(v=e.rotate.value<0?k:l,m=e.container.x+v/2,x=e.container.y+v/2),y="rotate("+e.rotate.value+", "+m+", "+x+")",e.container.value.attr("transform",y+z)}},{"../../client/rtl.coffee":7}],43:[function(e,t,o){var n,i,a,r;n=e("./flow.coffee"),i=e("../../font/sizes.coffee"),r=function(e){var t;e.text.phrases.length&&(e.text.current=e.text.phrases.shift()+"",e.text.words=e.text.current.match(e.text.split.break),t=e.text.current.charAt(0),t!==e.text.words[0].charAt(0)&&(e.text.words[0]=t+e.text.words[0]),e.container.value.html(""),e.resize.value?a(e):n(e))},t.exports=r,a=function(e){var t,o,a,l,s,c,f,u,d,p,h,g,v,y,m,x,b;for(b=[],f=0;f<e.text.words.length;)t=f===e.text.words.length-1?"":" ",b.push(e.text.words[f]+t),f++;p=-90===e.rotate.value||90===e.rotate.value,m=p?e.height.inner:e.width.inner,s=p?e.width.inner:e.height.inner,h=Math.floor(e.size.value[1]),u="circle"===e.shape.value?.75*m:m,v=i(b,{"font-size":h+"px"},{parent:e.container.value}),d=d3.max(v,function(e){return e.width}),o=1.165+m/s*.11,y=d3.sum(v,function(t){var o;return o=e.container.dy||1.2*h,t.width*o})*o,l="circle"===e.shape.value?Math.PI*Math.pow(m/2,2):u*s,(d>u||y>l)&&(a=Math.sqrt(l/y),x=u/d,g=d3.min([a,x]),h=d3.max([e.size.value[0],Math.floor(h*g)])),c=Math.floor(.8*s),h>c&&(h=c),d*(h/e.size.value[1])<=u?(h!==e.size.value[1]&&e.self.size([e.size.value[0],h]),n(e)):r(e)}},{"../../font/sizes.coffee":28,"./flow.coffee":38}],44:[function(e,t,o){t.exports={accepted:[!1,"start","middle","end","left","center","right"],process:function(e){var t;return t=["left","center","right"].indexOf(e),t>=0&&(e=this.accepted[t+1]),e},value:!1}},{}],45:[function(e,t,o){t.exports={accepted:[Object],objectAccess:!1,process:function(e,t){var o,n;for(o in e)n=e[o],o in t.self&&t.self[o](n);return e},value:{}}},{}],46:[function(e,t,o){var n;n=e("../../util/d3selection.coffee"),t.exports={accepted:[!1,Array,Object,String],element:!1,id:"default",process:function(e){return!1!==e&&(n(e)?e:e instanceof Array?d3.select(e[0][0]):(this.selector=e,d3.select(e)))},value:!1}},{"../../util/d3selection.coffee":66}],47:[function(e,t,o){t.exports={accepted:[Boolean],value:!1}},{}],48:[function(e,t,o){var n,i;n=e("../../core/console/print.coffee"),i=e("../../string/format.js"),t.exports={accepted:[void 0],process:function(e,t){var o,a;return!1===this.initialized?e:(!1===t.container.value?(a=t.format.locale.value.dev.setContainer,n.warning(a,"container")):t.container.value.empty()?(a=t.format.locale.value.dev.noContainer,o=t.container.selector||"",n.warning(i(a,'"'+o+'"'),"container")):(t.dev.value&&n.time("total draw time"),t.container.value.call(t.self)),e)},value:void 0}},{"../../core/console/print.coffee":19,"../../string/format.js":34}],49:[function(e,t,o){var n,i;n=e("../../core/locale/locale.coffee"),i=e("../../object/merge.coffee"),t.exports={accepted:[Function,String],locale:{accepted:function(){return d3.keys(n)},process:function(e){var t,o;return t="en_US",o=n[t],e!==t&&(o=i(o,n[e])),this.language=e,o},value:"en_US"},process:function(e,t){if(this.initialized&&"string"==typeof e)t.self.format({locale:e});else if("function"==typeof e)return e;return this.value},value:"en_US"}},{"../../core/locale/locale.coffee":23,"../../object/merge.coffee":32}],50:[function(e,t,o){t.exports={accepted:[!1,Number],value:!1}},{}],51:[function(e,t,o){arguments[4][50][0].apply(o,arguments)},{dup:50}],52:[function(e,t,o){arguments[4][47][0].apply(o,arguments)},{dup:47}],53:[function(e,t,o){t.exports={accepted:[-180,-90,0,90,180],value:0}},{}],54:[function(e,t,o){t.exports={accepted:["circle","square"],value:!1}},{}],55:[function(e,t,o){t.exports={accepted:[Array,!1],value:!1}},{}],56:[function(e,t,o){t.exports={accepted:[!1,Array,Number,String],html:{accepted:[Boolean],value:!1},init:function(e){var t;return t=this.split.value,this.split.break=new RegExp("[^\\s\\"+t.join("\\")+"]+\\"+t.join("?\\")+"?","g"),!1},split:{accepted:[Array],process:function(e){return this.break=new RegExp("[^\\s\\"+e.join("\\")+"]+\\"+e.join("?\\")+"?","g"),e},value:["-","/",";",":","&"]}}},{}],57:[function(e,t,o){t.exports={accepted:[!1,"top","middle","bottom"],value:!1}},{}],58:[function(e,t,o){arguments[4][50][0].apply(o,arguments)},{dup:50}],59:[function(e,t,o){arguments[4][50][0].apply(o,arguments)},{dup:50}],60:[function(e,t,o){arguments[4][50][0].apply(o,arguments)},{dup:50}],61:[function(e,t,o){var n,i,a,r,l;n=e("../core/methods/attach.coffee"),a=e("./helpers/parseSize.coffee"),i=e("../core/console/print.coffee"),r=e("./helpers/parseText.coffee"),l=e("./helpers/wrap.coffee"),t.exports=function(){var t;return t={self:function(e){return e.each(function(){a(t),t.size.value[0]<=t.height.inner?(r(t),l(t)):t.container.value.html(""),t.dev.value&&i.timeEnd("total draw time")}),t.self}},n(t,{align:e("./methods/align.coffee"),config:e("./methods/config.coffee"),container:e("./methods/container.coffee"),dev:e("./methods/dev.coffee"),draw:e("./methods/draw.coffee"),format:e("./methods/format.coffee"),height:e("./methods/height.coffee"),padding:e("./methods/padding.coffee"),resize:e("./methods/resize.coffee"),rotate:e("./methods/rotate.coffee"),text:e("./methods/text.coffee"),shape:e("./methods/shape.coffee"),size:e("./methods/size.coffee"),valign:e("./methods/valign.coffee"),width:e("./methods/width.coffee"),x:e("./methods/x.coffee"),y:e("./methods/y.coffee")}),t.self}},{"../core/console/print.coffee":19,"../core/methods/attach.coffee":24,"./helpers/parseSize.coffee":40,"./helpers/parseText.coffee":41,"./helpers/wrap.coffee":43,"./methods/align.coffee":44,"./methods/config.coffee":45,"./methods/container.coffee":46,"./methods/dev.coffee":47,"./methods/draw.coffee":48,"./methods/format.coffee":49,"./methods/height.coffee":50,"./methods/padding.coffee":51,"./methods/resize.coffee":52,"./methods/rotate.coffee":53,"./methods/shape.coffee":54,"./methods/size.coffee":55,"./methods/text.coffee":56,"./methods/valign.coffee":57,"./methods/width.coffee":58,"./methods/x.coffee":59,"./methods/y.coffee":60}],62:[function(e,t,o){function n(){d3.selectAll("div.d3plus_tooltip_data_desc").style("height","0px"),d3.selectAll("div.d3plus_tooltip_data_help").style("background-color","#ccc")}var i=e("../core/locale/languages/en_US.coffee"),a=e("../client/pointer.coffee"),r=e("../color/legible.coffee"),l=e("./move.coffee"),s=e("../client/prefix.coffee"),c=e("../client/rtl.coffee"),f=e("./remove.coffee"),u=e("../client/scroll.js"),d=e("../client/scrollbar.coffee"),p=e("../string/list.coffee"),h=e("../color/text.coffee");t.exports=function(e){var t=e.fullscreen?250:200,o=s();e.width=e.width||t,e.max_width=e.max_width||386,e.id=e.id||"default",e.size=e.fullscreen||e.html?"large":"small",e.offset=e.offset||0,e.arrow_offset=e.arrow?8:0,e.x=e.x||0,e.y=e.y||0,e.parent=e.parent||d3.select("body"),e.curtain=e.curtain||"#fff",e.curtainopacity=e.curtainopacity||.8,e.background=e.background||"#fff",e.fontcolor=e.fontcolor||"#444",e.fontfamily=e.fontfamily||"sans-serif",e.fontweight=e.fontweight||"normal",e.fontsize=e.fontsize||"12px",e.style=e.style||"default",e.zindex="small"==e.size?2e3:500,e.locale=e.locale||i,e.stacked=e.stacked||!1;var g=e.parent?e.parent.node().offsetHeight||e.parent.node().getBoundingClientRect().height:0;if(e.iconsize||(e.iconsize="small"==e.size?22:50),e.parent.node()===document.body){e.limit=[window.innerWidth+u.x(),window.innerHeight+u.y()];var v=d();document.body.scrollHeight>window.innerHeight&&(e.limit[0]-=v)}else e.limit=[parseFloat(e.parent.style("width"),10),parseFloat(e.parent.style("height"),10)];if(e.title instanceof Array){var y=e.locale.ui.and,m=e.locale.ui.more;e.title=p(e.title,y,3,m)}if(f(e.id),e.anchor={},e.fullscreen)e.anchor.x="center",e.anchor.y="center",e.x=e.parent?e.parent.node().offsetWidth/2:window.innerWidth/2,e.y=e.parent?g/2:window.innerHeight/2;else if(e.align){var x=e.align.split(" ");e.anchor.y=x[0],x[1]?e.anchor.x=x[1]:e.anchor.x="center"}else e.anchor.x="center",e.anchor.y="top";var b=e.width-30;if(e.fullscreen){e.parent.append("div").attr("id","d3plus_tooltip_curtain_"+e.id).attr("class","d3plus_tooltip_curtain").style("background-color",e.curtain).style("opacity",e.curtainopacity).style("position","absolute").style("z-index",499).style("top","0px").style("right","0px").style("bottom","0px").style("left","0px").on(a.click,function(){f(e.id)})}var w=e.parent.append("div").datum(e).attr("id","d3plus_tooltip_id_"+e.id).attr("class","d3plus_tooltip d3plus_tooltip_"+e.size).style("color",e.fontcolor).style("font-family",e.fontfamily).style("font-weight",e.fontweight).style("font-size",e.fontsize+"px").style(o+"box-shadow","0px 1px 3px rgba(0, 0, 0, 0.25)").style("position","absolute").on(a.out,n);e.max_height&&w.style("max-height",e.max_height+"px"),e.fixed?(w.style("z-index",500),e.mouseevents=!0):w.style("z-index",2e3);var F=w.append("div").datum(e).attr("class","d3plus_tooltip_container").style("background-color",e.background).style("padding","6px");if(e.fullscreen&&e.html&&!e.stacked){A=e.parent?.75*e.parent.node().offsetWidth:.75*window.innerWidth,T=e.parent?.75*g:.75*window.innerHeight,F.style("width",A+"px").style("height",T+"px");var z=F.append("div").attr("class","d3plus_tooltip_body").style("padding-right","6px").style("display","inline-block").style("z-index",1).style("width",e.width+"px")}else{if("auto"==e.width){var A="auto";F.style("max-width",e.max_width+"px")}else var A=e.width-14+"px";var z=F.style("width",A)}if(e.title||e.icon)var _=z.append("div").attr("class","d3plus_tooltip_header").style("position","relative").style("z-index",1);if(e.fullscreen){w.append("div").attr("class","d3plus_tooltip_close").style("background-color",e.color).style("color",h(e.color)).style("position","absolute").style(o+"box-shadow","0 1px 3px rgba(0, 0, 0, 0.25)").style("font-size","20px").style("height","18px").style("line-height","14px").style("text-align","center").style("right","16px").style("top","-10px").style("width","18px").style("z-index",10).html("&times;").on(a.over,function(){d3.select(this).style("cursor","pointer").style(o+"box-shadow","0 1px 3px rgba(0, 0, 0, 0.5)")}).on(a.out,function(){d3.select(this).style("cursor","auto").style(o+"box-shadow","0 1px 3px rgba(0, 0, 0, 0.25)")}).on(a.click,function(){f(e.id)});d3.select("body").on("keydown.esc_"+e.id,function(){27===d3.event.keyCode&&(f(e.id),d3.select("body").on("keydown.esc_"+e.id,null))})}if(e.mouseevents){if(!0!==e.mouseevents){var k=d3.select(e.mouseevents).on(a.out),C=function(){var t=d3.event.toElement||d3.event.relatedTarget;if(t)var o="string"==typeof t.className?t.className:t.className.baseVal,i=0==o.indexOf("d3plus_tooltip");else var i=!1;t&&(j(w.node(),t)||j(e.mouseevents,t)||i)||(k(d3.select(e.mouseevents).datum()),n(),d3.select(e.mouseevents).on(a.out,k))},j=function(e,t){for(var o=t.parentNode;null!==o;){if(o==e)return!0;o=o.parentNode}return!1};d3.select(e.mouseevents).on(a.out,C),w.on(a.out,C);var E=d3.select(e.mouseevents).on(a.move);E&&w.on(a.move,E)}}else w.style("pointer-events","none");if(e.arrow){w.append("div").attr("class","d3plus_tooltip_arrow").style("background-color",e.background).style(o+"box-shadow","0px 1px 3px rgba(0, 0, 0, 0.25)").style("position","absolute").style("bottom","-5px").style("height","10px").style("left","50%").style("margin-left","-5px").style("width","10px").style(o+"transform","rotate(45deg)").style("z-index",-1)}if(e.icon){var O=_.append("div").attr("class","d3plus_tooltip_icon").style("width",e.iconsize+"px").style("height",e.iconsize+"px").style("z-index",1).style("background-position","50%").style("background-size","100%").style("background-image","url("+e.icon+")").style("display","inline-block").style("margin","0px 3px 3px 0px");"knockout"==e.style&&O.style("background-color",e.color),b-=O.node().offsetWidth}if(e.title){var S=e.max_width-6;e.icon&&(S-=e.iconsize+6),S+="px";_.append("div").attr("class","d3plus_tooltip_title").style("max-width",S).style("color",e.icon?e.fontcolor:r(e.color)).style("vertical-align","top").style("width",b+"px").style("display","inline-block").style("overflow","hidden").style("text-overflow","ellipsis").style("word-wrap","break-word").style("z-index",1).style("font-size","large"===e.size?"18px":"16px").style("line-height","large"===e.size?"20px":"17px").style("padding","large"===e.size?"3px 6px":"3px").text(e.title)}if(e.description){z.append("div").attr("class","d3plus_tooltip_description").style("font-size","12px").style("padding","6px").text(e.description)}if(e.data||e.html&&!e.fullscreen)var D=z.append("div").attr("class","d3plus_tooltip_data_container").style("overflow-y","auto").style("z-index",-1);if(e.data){var V=0,B={},M=null;e.data.forEach(function(t,i){t.group&&M!=t.group&&(M=t.group,D.append("div").attr("class","d3plus_tooltip_data_title").style("font-size","12px").style("font-weight","bold").style("padding","6px 3px 0px 3px").text(t.group));var l=D.append("div").attr("class","d3plus_tooltip_data_block").style("font-size","12px").style("padding","3px 6px").style("position","relative").datum(t);!0===t.highlight?l.style("color",r(e.color)):(t.allColors||t.highlight!==e.color)&&l.style("color",r(t.highlight));var f=l.append("div").attr("class","d3plus_tooltip_data_name").style("display","inline-block").html(t.name).on(a.out,function(){d3.event.stopPropagation()});if(t.link&&f.style("cursor","pointer").on(a.click,t.link),t.value instanceof Array){var u=e.locale.ui.and,d=e.locale.ui.more;t.value=list(t.value,u,3,d)}var p=l.append("div").attr("class","d3plus_tooltip_data_value").style("display","block").style("position","absolute").style("text-align","right").style("top","3px").html(t.value).on(a.out,function(){d3.event.stopPropagation()});if(c?p.style("left","6px"):p.style("right","6px"),e.mouseevents&&t.desc){var h=l.append("div").attr("class","d3plus_tooltip_data_desc").style("color","#888").style("overflow","hidden").style(o+"transition","height 0.5s").style("width","85%").text(t.desc).on(a.out,function(){d3.event.stopPropagation()}),g=h.node().offsetHeight||h.node().getBoundingClientRect().height;h.style("height","0px");var v=f.append("div").attr("class","d3plus_tooltip_data_help").style("background-color","#ccc").style(o+"border-radius","5px").style("color","#fff").style("cursor","pointer").style("display","inline-block").style("font-size","8px").style("font-weight","bold").style("height","10px").style("margin","3px 0px 0px 3px").style("padding-right","1px").style("text-align","center").style("width","10px").style("vertical-align","top").style(s+"transition","background-color 0.5s").text("?").on(a.over,function(){var e=d3.select(this.parentNode.parentNode).style("color");d3.select(this).style("background-color",e),h.style("height",g+"px")}).on(a.out,function(){d3.event.stopPropagation()});f.style("cursor","pointer").on(a.over,function(){n();var e=d3.select(this.parentNode).style("color");v.style("background-color",e),h.style("height",g+"px")}),l.on(a.out,function(){d3.event.stopPropagation(),n()})}var y=parseFloat(p.style("width"),10);y>e.width/2&&(y=e.width/2),y>V&&(V=y),i!=e.data.length-1&&(t.group&&t.group==e.data[i+1].group||!t.group&&!e.data[i+1].group)&&D.append("div").attr("class","d3plus_tooltip_data_seperator").style("background-color","#ddd").style("display","block").style("height","1px").style("margin","0px 3px")}),D.selectAll(".d3plus_tooltip_data_name").style("width",function(){return parseFloat(d3.select(this.parentNode).style("width"),10)-V-30+"px"}),D.selectAll(".d3plus_tooltip_data_value").style("width",V+"px").each(function(e){var t=parseFloat(d3.select(this).style("height"),10);B[e.name]=t}),D.selectAll(".d3plus_tooltip_data_name").style("min-height",function(e){return B[e.name]+"px"})}!e.html||e.fullscreen&&!e.stacked||(D.append("div").html(e.html),e.js&&e.js(F));var N=z.append("div").attr("class","d3plus_tooltip_footer").style("font-size","10px").style("position","relative").style("text-align","center");if(e.footer&&N.html(e.footer),e.height=w.node().offsetHeight||w.node().getBoundingClientRect().height,e.html&&e.fullscreen&&!e.stacked){var T=e.height-12,A=w.node().offsetWidth-e.width-44;F.append("div").attr("class","d3plus_tooltip_html").style("width",A+"px").style("height",T+"px").style("display","inline-block").style("vertical-align","top").style("overflow-y","auto").style("padding","0px 12px").style("position","absolute").html(e.html),e.js&&e.js(F)}if(e.width=w.node().offsetWidth,"center"!=e.anchor.y?e.height+=e.arrow_offset:e.width+=e.arrow_offset,e.data||(!e.fullscreen||e.stacked)&&e.html){if(!e.fullscreen||e.stacked)var U=e.fixed?g-e.y-10:g-10,T=e.height<U?e.height:U;else var T=e.height;T-=parseFloat(F.style("padding-top"),10),T-=parseFloat(F.style("padding-bottom"),10),_&&(T-=_.node().offsetHeight||_.node().getBoundingClientRect().height,T-=parseFloat(_.style("padding-top"),10),T-=parseFloat(_.style("padding-bottom"),10)),N&&(T-=N.node().offsetHeight||N.node().getBoundingClientRect().height,T-=parseFloat(N.style("padding-top"),10),T-=parseFloat(N.style("padding-bottom"),10)),D.style("max-height",T+"px")}e.height=w.node().offsetHeight||w.node().getBoundingClientRect().height,l(e.x,e.y,e.id)}},{"../client/pointer.coffee":5,"../client/prefix.coffee":6,"../client/rtl.coffee":7,"../client/scroll.js":8,"../client/scrollbar.coffee":9,"../color/legible.coffee":11,"../color/text.coffee":17,"../core/locale/languages/en_US.coffee":22,"../string/list.coffee":35,"./move.coffee":63,"./remove.coffee":64}],63:[function(e,t,o){var n,i;i=e("../client/scroll.js"),t.exports=function(e,t,o){var a,r,l;return o||(o="default"),l=d3.select("div#d3plus_tooltip_id_"+o),l.node()&&(a=l.datum(),a.cx=e,a.cy=t,a.fixed||(r="body"===a.parent.node().tagName.toLowerCase()?[i.x(),i.y()]:[0,0],"center"!==a.anchor.y?("right"===a.anchor.x?a.x=a.cx-a.arrow_offset-4:"center"===a.anchor.x?a.x=a.cx-a.width/2:"left"===a.anchor.x&&(a.x=a.cx-a.width+a.arrow_offset+2),"bottom"===a.anchor.y?a.flip=a.cy+a.height+a.offset<=a.limit[1]:"top"===a.anchor.y&&(a.flip=a.cy-a.height-a.offset<r[1]),a.flip?a.y=a.cy+a.offset+a.arrow_offset:a.y=a.cy-a.height-a.offset-a.arrow_offset):(a.y=a.cy-a.height/2,"right"===a.anchor.x?a.flip=a.cx+a.width+a.offset<=a.limit[0]:"left"===a.anchor.x&&(a.flip=a.cx-a.width-a.offset<r[0]),"center"===a.anchor.x?(a.flip=!1,a.x=a.cx-a.width/2):a.flip?a.x=a.cx+a.offset+a.arrow_offset:a.x=a.cx-a.width-a.offset),a.x<r[0]?a.x=r[0]:a.x+a.width>a.limit[0]&&(a.x=a.limit[0]-a.width),a.y<r[1]?a.y=r[1]:a.y+a.height>a.limit[1]&&(a.y=a.limit[1]-a.height)),l.style("top",a.y+"px").style("left",a.x+"px"),a.arrow&&l.selectAll(".d3plus_tooltip_arrow").call(n)),l},n=function(e){return e.style("bottom",function(e){return"center"===e.anchor.y||e.flip?"auto":"-5px"}).style("right",function(e){return"center"!==e.anchor.y||e.flip?"auto":"-5px"}).style("top",function(e){return"center"!==e.anchor.y&&e.flip?"-5px":"center"===e.anchor.y?"50%":"auto"}).style("left",function(e){return"center"===e.anchor.y&&e.flip?"-5px":"center"!==e.anchor.y?"50%":"auto"}).style("margin-left",function(e){var t;return"center"===e.anchor.y?"auto":(t="right"===e.anchor.x?-e.width/2+e.arrow_offset/2:"left"===e.anchor.x?e.width/2-2*e.arrow_offset-5:-5,e.cx-e.width/2-5<t?(t=e.cx-e.width/2-5)<2-e.width/2&&(t=2-e.width/2):-(e.limit[0]-e.cx-e.width/2+5)>t&&(t=-(e.limit[0]-e.cx-e.width/2+5))>e.width/2-11&&(t=e.width/2-11),t+"px")}).style("margin-top",function(e){var t;return"center"!==e.anchor.y?"auto":(t="bottom"===e.anchor.y?-e.height/2+e.arrow_offset/2-1:"top"===e.anchor.y?e.height/2-2*e.arrow_offset-2:-9,e.cy-e.height/2-e.arrow_offset<t?(t=e.cy-e.height/2-e.arrow_offset)<4-e.height/2&&(t=4-e.height/2):-(e.limit[1]-e.cy-e.height/2+e.arrow_offset)>t&&(t=-(e.limit[1]-e.cy-e.height/2+e.arrow_offset))>e.height/2-22&&(t=e.height/2-22),t+"px")})}},{"../client/scroll.js":8}],64:[function(e,t,o){t.exports=function(e){return e?(d3.selectAll("div#d3plus_tooltip_curtain_"+e).remove(),d3.selectAll("div#d3plus_tooltip_id_"+e).remove()):(d3.selectAll("div.d3plus_tooltip_curtain").remove(),d3.selectAll("div.d3plus_tooltip").remove())}},{}],65:[function(e,t,o){var n,i,a;i=e("../object/merge.coffee"),a=e("../object/validate.coffee"),n=function(e){var t;return a(e)?i(e):e instanceof Array?(t=[],e.forEach(function(e){return t.push(n(e))}),t):e},t.exports=n},{"../object/merge.coffee":32,"../object/validate.coffee":33}],66:[function(e,t,o){var n;n=e("../client/ie.js"),t.exports=function(e){return n?"object"==typeof e&&e instanceof Array&&"size"in e&&"select"in e:e instanceof d3.selection}},{"../client/ie.js":4}]},{},[30]);